package ind.ericjturley.mcve.configurationproperties

import org.springframework.boot.context.properties.ConfigurationProperties
import org.springframework.boot.context.properties.ConstructorBinding

@Suppress("ConfigurationProperties"/*Idea doesn't know about @ConfigurationPropertiesScan yet*/)
@ConstructorBinding
// Oh! Looks like commenting @ConfigurationProperties toggles the failure. So it's not the injection into the test class
@ConfigurationProperties("push1")
data class PushServicesProperties1(val snsClient: SnsClient) {

    @ConstructorBinding
    data class SnsClient(
        val maxConnections: Int,
        val connectionTimeout: Int,
        val socketTimeout: Int,
        val proxyHost: String,
        val proxyPort: Int
    )
}